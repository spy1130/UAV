<html>
<head>
  <title>08-内存管理</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="2628"/>
<h1>08-内存管理</h1>

<div>
<span><div>1  作用域: </div><div>变量起作用的范围</div><div>2 变量</div><div>局部变量  在{}范围之内定义的变量</div><div>auto  int  a;</div><div>静态局部变量    在{}范围之内定义的变量,前面加上static修饰变量</div><div>static  int a;</div><div>全局变量   在函数之外定义的变量</div><div>静态全局变量</div><div>在函数之外定义的变量 ,加上static修饰的变量</div><div>static  int a;</div><div><br/></div><div>生命周期:</div><div>什么时候开辟空间(出生),释放空间(死亡),这个过程叫生命周期</div><div><br/></div><div><br/></div><div>3 局部变量</div><div><br/></div><div>a&gt; 作用域   在定义变量的{}之内有效</div><div>b&gt;生命周期   程序运行至变量定义处开辟空间,所在的函数结束之后释放空间</div><div>c&gt;未初始化的值   随机</div><div><br/></div><div><br/></div><div>2  静态局部变量</div><div>a&gt;作用域   在定义变量的{}之内有效</div><div>b&gt;生命周期   执行main函数之前就已经开辟空间,程序结束之后才释放空间</div><div>c&gt;未初始化的值   0</div><div><br/></div><div>3  全局变量</div><div>a&gt;作用域   整个工程,所有文件</div><div>b&gt;生命周期  执行main函数之前就已经开辟空间,程序结束之后才释放空间</div><div>c&gt; 未初始化的值   0</div><div><br/></div><div>4 静态全局变量</div><div>a&gt;作用域   当前文件</div><div>b&gt; 生命周期   执行main函数之前就已经开辟空间,程序结束之后才释放空间</div><div>c&gt; 0</div><div><br/></div><div> 作用域:  局部变量(普通局部和静态局部)在{}范围之内   普通全局变量作用域在整个工程  静态全局作用当前文件</div><div>生命周期: 只有普通局部是运行至变量定义处时开辟,函数结束释放,其他变量都是执行main函数之前就已经开辟空间,程序结束之后才释放空间</div><div>初始化的值:  只有普通局部未初始化的值为随机,其他为0</div><div><br/></div><div><br/></div><div>注意: 在.h中,全局变量只声明不定义,定义只放在.c文件,</div><div><br/></div><div><br/></div><div>5  变量重名问题</div><div>考虑作用域前提下,就近原则</div><div><img src="08-内存管理_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>6   静态函数</div><div>静态函数就是在函数定义时加上static修饰的函数,静态函数只可以被当前文件函数调用</div><div>static  void fun(){}   </div><div>普通的函数没有加任何修饰,就是全局函数,整个工程可以调用</div><div><br/></div><div>7   程序内存分布</div><div><img src="08-内存管理_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div>8 memset</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">#include</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">&lt;string.h&gt;</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">void</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">*</span><span style="font-weight: bold; color: rgb(136, 0, 0); background: white; font-family: Monaco;-en-paragraph:true;">memset</span><span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">(</span><span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">void</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">*</span><span style="font-weight: bold; color: navy; background: white; font-family: Monaco;-en-paragraph:true;">s</span><span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">,</span> <span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">int</span> <span style="font-weight: bold; color: navy; background: white; font-family: Monaco;-en-paragraph:true;">c</span><span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">,</span> <span style="font-weight: bold; font-style: italic; color: rgb(33, 111, 133); background: white; font-family: Monaco;-en-paragraph:true;">size_t</span> <span style="font-weight: bold; color: navy; background: white; font-family: Monaco;-en-paragraph:true;">n</span><span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">);</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">功能</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">：将s的内存区域的前n个字节以参数c填入</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">参数</span><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">：</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">s：需要操作内存s的首地址</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">c：填充的字符，c虽然参数为int，但必须是</span><span style="color: blue; background: white; font-family: Monaco;-en-paragraph:true;">unsigned char</span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">, 范围为0~255</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">n：指定需要设置的大小</span></font></div><div><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background: white;-en-paragraph:true;">返回值</span><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">：s</span><span style="font-family: 宋体; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">的首地址</span></font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">main()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">  a =10;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//a = 0;  -&gt;  memset()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        memset(&amp;a,0,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(a));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//printf(&quot;a=%d\n&quot;,a);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">buf[10] =</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        strcpy(buf,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;hello&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%s\n&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,buf);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        memset(buf,0,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(buf));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%s\n&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">, buf);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//将前9个字符置为'a'</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        memset(buf,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">'a'</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(buf)-1);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%s\n&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">, buf);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        system(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;pause&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div><div><br/></div><div>9   内存拷贝 memcpy</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">#include</span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: #A31515; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">&lt;string.h&gt;</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #880000; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">memcpy</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">(</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">dest</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">,</span> <span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">const</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">src</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">,</span> <span style="font-weight: bold; font-style: italic; mso-bidi-font-style: normal; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #216F85; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">size_t</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">n</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">);</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">功能</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：拷贝src所指的内存内容的前n个字节到dest所值的内存地址上。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">参数</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">dest：目的内存首地址</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">src：源内存首地址，</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: red; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">注意：dest和src所指的内存空间不可重叠</span><span style="font-family: 宋体; mso-bidi-font-family: 宋体; color: red; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">，可能会导致程序报错</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">n：需要拷贝的字节数</span></div><div><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">返回值</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：dest的首地址</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">main()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">str1[128] =</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">str2[128] =</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;abc\0def\0dadfa&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//memcpy(str1,str2,10*sizeof(char));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        strncpy(str1, str2, 10 *</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">for</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">i = 0; i &lt; 10; i++)</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        {</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%d &quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,str1[i]);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        system(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;pause&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">main04()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//将数组a中前5个元素拷贝至数组b中</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">  a[10] = {1,2,3,4,5,6,7,8,9,10};</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">  b[10] = { 0 };</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//a = b;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        memcpy(b,a,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">)*5);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">for</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">i = 0; i &lt;</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(b) /</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(b[0]); i++)</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        {</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%d &quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,b[i]);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        system(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;pause&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div><div><br/></div><div>10 memcmp</div><div>内存比较</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">#include</span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: #A31515; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">&lt;string.h&gt;</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">int</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #880000; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">memcmp</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">(</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">const</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">s1</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">,</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">const</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">s2</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">,</span> <span style="font-weight: bold; font-style: italic; mso-bidi-font-style: normal; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #216F85; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">size_t</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">n</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">);</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">功能</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：比较s1和s2所指向内存区域的前n个字节</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; font-size: 9pt;-en-paragraph:true;">参数</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">s1：内存首地址1</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">s2：内存首地址2</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">n：需比较的前n个字节</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; font-size: 9pt;-en-paragraph:true;">返回值</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">相等：=0</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">大于：&gt;0</span></div><div><span style="font-size: 12.0pt; mso-bidi-font-size: 14.0pt; font-family: &quot;Times New Roman&quot;,serif; mso-fareast-font-family: &quot;Times New Roman&quot;; mso-bidi-font-family: &quot;Arial Unicode MS&quot;; background: white; mso-highlight: white; mso-tab-count: 1; color: rgb(51, 51, 51);-en-paragraph:true;">      </span> <span style="font-size: 12pt; font-family: &quot;Times New Roman&quot;, serif; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(51, 51, 51);-en-paragraph:true;">小于：&lt;0</span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">main()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">num1[] = { 1,0,3,4,5,6,7 };</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">num2[] = { 1,0,3,6,5,6,7 };</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">str1[] =</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;dbakf\0afnafa&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">str2[] =</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;dbakf\0bfnafa&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//printf(&quot;%d\n&quot;, memcmp(num1,num2,7*sizeof(char)));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//printf(&quot;%d\n&quot;, strncmp(num1, num2, 7 * sizeof(char)));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%d\n&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">, memcmp(str1, str2,</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(str1)));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%d\n&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">, strncmp(str1, str2,</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(str1)));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        system(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;pause&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div><div><br/></div><div>总之: 内存操作函数遇到0会\0都不会结束操作,而str字符串处理函数遇到\0都会结束</div><div><br/></div><div>11  malloc  向堆区申请空间</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">#include</span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: #A31515; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">&lt;stdlib.h&gt;</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; font-style: italic; mso-bidi-font-style: normal; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #6F008A; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">malloc</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">(</span><span style="font-weight: bold; font-style: italic; mso-bidi-font-style: normal; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #216F85; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">size_t</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">size</span><span style="font-weight: bold; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">);</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; font-size: 9pt;-en-paragraph:true;">功能</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：在内存的动态存储区(堆区)中分配一块长度为size字节的连续区域，用来存放类型说明符指定的类型。</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">分配的内存空间内容不确定，一般使用memset初始化。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">参数</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">size：需要分配内存大小(单位：字节)</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">返回值</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">成功：分配空间的起始地址</span></div><div><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">失败：NULL</span></div></div><div><br/></div><div><br/></div><div>12  free</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="line-height: normal; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: normal; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);-en-paragraph:true;">)free()</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">#include</span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: #A31515; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">&lt;stdlib.h&gt;</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; font-style: italic; mso-bidi-font-style: normal; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #6F008A; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">free</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">(</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">void</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">*</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: navy; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">ptr</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">);</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">功能</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：释放ptr所指向的一块内存空间，ptr是一个任意类型的指针变量，指向被释放区域的首地址。对同一内存空间多次释放会出错。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">参数</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">ptr：需要释放空间的首地址，被释放区应是由malloc函数所分配的区域。</span></div><div><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">返回值</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">：无</span></div></div><div><br/></div><div>注意: free只能释放一次上次申请过的空间</div><div>free 参数  地址必须是上一次malloc申请过的,不能改变这个地址</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">main()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//申请一个字符数组,有1024元素</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">*p =(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">*) malloc(1024);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        memset(p,0,1024);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        strcpy(p,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;helloworld&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        free(p+1);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//free(p);  malloc申请的空间不可以释放两次,申请一次,释放一次</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//printf(&quot;%s\n&quot;,p);</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        system(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;pause&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">main07()</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">{</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//int a[10]</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//申请一个数组,数组有10个元素,每个元素int类型</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">*p = (</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">*)malloc(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">)*10);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        memset(p,0,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">sizeof</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">)*10);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        *p = 1000;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        *(p + 5) = 2000;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">for</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">i = 0; i &lt; 10; i++)</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        {</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               printf(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;%d &quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,*(p+i));</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        system(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;pause&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">}</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 