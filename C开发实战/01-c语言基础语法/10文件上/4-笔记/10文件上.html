<html>
<head>
  <title>10文件上</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306387 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="2656"/>
<h1>10文件上</h1>

<div>
<span><div><div>1 文件</div><div><br/></div><div>文本文件 : 存储时,是将字符的ascii值存在磁盘中,取的时候将数值(ascii)翻译成对应的字符</div><div>二进制文件: 存的是二进制,取的是二进制</div><div><img src="10文件上_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div>2  文件指针</div><div><img src="10文件上_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div>3      打开文件</div><div><br/></div><div> FILE  *fp =  fopen( &quot;pathname&quot;,  打开的方式  );</div><div>注意:  打开的选项</div><div>只有带r的选项,如果文件不存在,则不创建文件</div><div>带w选项的,打开时会清空文件</div><div>fopen的返回值:  如果成功返回FILE结构体地址,失败返回NULL</div><div>返回的文件流指针标识了打开的那个文件</div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 61px;"></col><col style="width: 422px;"></col></colgroup><tbody><tr style="mso-yfti-irow:0;mso-yfti-firstrow:yes"><td style="border: 1px solid rgb(221, 221, 221); width: 61px; padding: 8px;"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">r</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">或</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">rb</span></div></td><td style="width: 422px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">以只读方式打开一个文本文件（不创建文件，若文件不存在则报错）</span></div></td></tr><tr style="mso-yfti-irow:1"><td style="width: 61px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">w</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">或</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">wb</span></div></td><td style="width: 422px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">以写方式打开文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">(</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">如果文件存在则清空文件，文件不存在则创建一个文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">)</span></div></td></tr><tr style="mso-yfti-irow:2"><td style="width: 61px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">a</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">或</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">ab</span></div></td><td style="width: 422px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">以追加方式打开文件，在末尾添加内容，若文件不存在则创建文件</span></div></td></tr><tr style="mso-yfti-irow:3"><td style="width: 61px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">r+</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">或</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">rb+</span></div></td><td style="width: 422px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">以可读、可写的方式打开文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">(</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">不创建新文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">)</span></div></td></tr><tr style="mso-yfti-irow:4"><td style="width: 61px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">w+</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">或</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">wb+</span></div></td><td style="width: 422px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">以可读、可写的方式打开文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">(</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">如果文件存在则清空文件，文件不存在则创建一个文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">)</span></div></td></tr><tr style="mso-yfti-irow:5;mso-yfti-lastrow:yes"><td style="width: 61px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">a+</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">或</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">ab+</span></div></td><td style="width: 422px; padding: 8px; border: 1px solid rgb(204, 204, 204);"><div style="line-height: 12.5pt; margin-top: 1em; margin-bottom: 1em;"><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">以添加方式打开文件，打开文件并在末尾更改文件</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">,</span><span style="line-height: 12.5pt; font-family: 宋体; mso-bidi-font-family: 宋体; color: black; mso-fareast-language: ZH-CN;-en-paragraph:true;">若文件不存在则创建文件</span></div></td></tr></tbody></table><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//r 只读 ,如果文件不存在,不创建</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//w 只写  清空文件 ,如果文件不存在,创建文件</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//r+ 可读可写  如果文件不存在,不创建</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//w+ 可读可写清空文件,  如果文件不存在,创建文件</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//a追加   如果文件不存在,会创建文件</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//b  二进制文件</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 128, 0); font-size: 9pt;">//打开一个文件,成功返回FILE结构体地址,失败返回NULL</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(43, 145, 175); font-size: 9pt;">FILE</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">*fp = fopen(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;./a.txt&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;w&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">if</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(111, 0, 138); font-size: 9pt;">NULL</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">== fp)</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        {</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               perror(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;open&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div></div><div><br/></div><div>4 fclose</div><div>fclose(FILE *fp);</div><div>功能: 关闭文件</div><div>参数: 文件流指针</div><div><br/></div><div>5 vs中. 当前./相对路径问题</div><div>1 如果直接在vs中调试运行: 相对路径相对的是工程文件</div><div><img src="10文件上_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div>2 如果手动运行,.exe文件.相对路径相对的是可执行文件</div><div><br/></div><div><br/></div><div>6 设备文件</div><div>stdin</div><div>stdout</div><div>stderr</div><div><img src="10文件上_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div>7 fputc </div><div>功能: 写入一个字符到文件中</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">#include</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">&lt;stdio.h&gt;</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">int</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">fputc(</span><span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">int</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">ch,</span> <span style="font-weight: bold; color: rgb(43, 145, 175); background: white; font-family: Monaco;-en-paragraph:true;">FILE</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">* stream);</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">功能：</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">将ch转换为unsigned char后写入stream指定的文件中</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">参数：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">ch：需要写入文件的字符</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">stream：文件指针</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">返回值：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">成功：成功写入文件的字符</span></font></div><div><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">失败：返回-1</span></font></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 10pt; font-family: NSimSun; color: rgb(43, 145, 175); font-size: 9pt;">FILE</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">*fp = fopen(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;./a.txt&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">,</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;w&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">if</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(111, 0, 138); font-size: 9pt;">NULL</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">== fp)</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        {</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               perror(</span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;open&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">return</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">char</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">buf[] =</span> <span style="min-height: 10pt; font-family: NSimSun; color: rgb(163, 21, 21); font-size: 9pt;">&quot;hello&quot;</span><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">int</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">i = 0;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        </span><span style="min-height: 10pt; font-family: NSimSun; color: rgb(0, 0, 255); font-size: 9pt;">while</span> <span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">(buf[i] != 0)</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        {</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               fputc(buf[i],fp);</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">               i++;</span></div><div style="min-height: 10pt;"><span style="min-height: 10pt; font-family: NSimSun; font-size: 9pt; color: rgb(51, 51, 51);">        }</span></div></div><div><br/></div><div><br/></div><div>8 fgetc </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">#include</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">&lt;stdio.h&gt;</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">int</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">fgetc(</span><span style="font-weight: bold; color: rgb(43, 145, 175); background: white; font-family: Monaco;-en-paragraph:true;">FILE</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">* stream);</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">功能：</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">从stream指定的文件中读取一个字符</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">参数：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">stream：文件指针</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">返回值：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">成功：返回读取到的字符</span></font></div><div><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">失败：-1</span></font></div></div><div><br/></div><div>9  feof</div><div>如果读取文件不是纯文本,有像-1这种数字,那么就不可以使用EOF(-1)作为文件的结尾</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">#include</span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: #A31515; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">&lt;stdio.h&gt;</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: blue; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">int</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">feof(</span><span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: #2B91AF; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">FILE</span> <span style="font-weight: bold; mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">* stream);</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">功能：</span><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">检测是否读取到了文件结尾</span><span style="font-family: 宋体; mso-ascii-font-family: &quot;Times New Roman&quot;; mso-hansi-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">。</span><span style="font-family: 宋体; mso-ascii-font-family: &quot;Times New Roman&quot;; mso-hansi-font-family: &quot;Times New Roman&quot;; color: red; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">判断的是最后一次“读操作的内容”，不是当前位置内容</span><span style="color: red; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">(</span><span style="font-family: 宋体; mso-ascii-font-family: &quot;Times New Roman&quot;; mso-hansi-font-family: &quot;Times New Roman&quot;; color: red; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">上一个内容</span><span style="color: red; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">)</span><span style="font-family: 宋体; mso-ascii-font-family: &quot;Times New Roman&quot;; mso-hansi-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">参数：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">stream：文件指针</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: 微软雅黑; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-size: 9pt;-en-paragraph:true;">返回值：</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">非0值：已经到文件结尾</span></div><div><span style="mso-fareast-font-family: &quot;Times New Roman&quot;; color: black; background: white; mso-highlight: white; mso-fareast-language: ZH-CN; mso-tab-count: 1; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco; font-size: 9pt;-en-paragraph:true;">0：没有到文件结尾</span></div></div><div><br/></div><div>10    fgets  从文件读取字符串</div><div>注意: fgets读取遇到\n结束</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">#include</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">&lt;stdio.h&gt;</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">char</span> <span style="font-weight: bold; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">* fgets(</span><span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">char</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">* str,</span> <span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">int</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">size,</span> <span style="font-weight: bold; color: rgb(43, 145, 175); background: white; font-family: Monaco;-en-paragraph:true;">FILE</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">* stream);</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">功能：</span><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">从stream指定的文件内读入字符，保存到str所指定的内存空间，直到出现换行字符、读到文件结尾或是已读了size - 1个字符为止，最后会自动加上字符</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">'\0'</span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">作为字符串结束。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">参数：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">str：字符串</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">size：指定最大读取字符串的长度（size - 1）</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">stream：文件指针</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">返回值：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">成功：成功读取的字符串</span></font></div><div><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">读到文件尾或出错：</span> <span style="color: rgb(111, 0, 138); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">NULL</span></font></div></div><div><br/></div><div>11   fputs  向文件写入字符串</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">#include</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">&lt;stdio.h&gt;</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-weight: bold; color: blue; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">int</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">fputs(</span><span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">const</span> <span style="font-weight: bold; color: blue; background: white; font-family: Monaco;-en-paragraph:true;">char</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">* str,</span> <span style="font-weight: bold; color: rgb(43, 145, 175); background: white; font-family: Monaco;-en-paragraph:true;">FILE</span> <span style="font-weight: bold; color: black; background: white; font-family: Monaco;-en-paragraph:true;">* stream);</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;">功能：</span><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">将str所指定的字符串写入到stream指定的文件中</span><span style="font-family: 宋体; color: black; background: white;-en-paragraph:true;">，字符串结束符</span> <span style="color: rgb(163, 21, 21); background: white; font-family: Monaco;-en-paragraph:true;">'\0'</span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;"> </span><span style="font-family: 宋体; color: black; background: white;-en-paragraph:true;">不写入文件。</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">参数：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">str：字符串</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">stream：文件指针</span></font></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-family: 微软雅黑, sans-serif; color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;-en-paragraph:true;"><font style="font-size: 12pt;">返回值：</font></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">成功：0</span></font></div><div><font style="font-size: 12pt;"><span style="color: black; background: white; font-family: Monaco;-en-paragraph:true;">      </span> <span style="color: black; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-family: Monaco;-en-paragraph:true;">失败：-1</span></font></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div></span>
</div></body></html> 